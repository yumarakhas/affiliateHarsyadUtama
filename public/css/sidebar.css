/* ========================================= */
/* ENHANCED SIDEBAR STYLES - FULL TAILWIND CSS */
/* ========================================= */

@layer components {
    /* Sidebar base styles - mempertahankan warna dan ukuran asli */
    #sidebar {
        @apply transition-all duration-300 ease-out w-64 backdrop-blur-sm;
    }

    /* Sidebar in collapsed state (desktop) */
    #sidebar.sidebar-collapsed {
        @apply w-16;
    }

    /* Sidebar in expanded state (desktop) */
    #sidebar.sidebar-expanded {
        @apply w-64;
    }

    /* Hide text in collapsed state - preserving original behavior */
    .sidebar-collapsed .sidebar-text {
        @apply opacity-0 invisible w-0 overflow-hidden whitespace-nowrap transition-all duration-300 ease-out;
    }

    /* Show text in expanded state */
    .sidebar-expanded .sidebar-text,
    #sidebar:not(.sidebar-collapsed) .sidebar-text {
        @apply opacity-100 visible w-auto transition-all duration-300 ease-out;
    }

    /* Enhanced icon styling - preserving original styling */
    .nav-icon {
        @apply block visible opacity-100 flex-shrink-0 transition-all duration-300 ease-out;
    }

    /* Ensure icons are always visible - highest priority */
    .nav-icon,
    .sidebar-collapsed .nav-icon,
    .sidebar-expanded .nav-icon,
    #sidebar .nav-icon {
        @apply block visible opacity-100;
    }

    /* Navigation icon colors - preserving original colors */
    .nav-item .nav-icon {
        @apply text-gray-500;
    }

    /* Active icon color */
    .nav-item.active .nav-icon {
        @apply text-white;
    }

    /* Hover icon color */
    .nav-item:hover .nav-icon {
        @apply text-brand-500;
    }

    /* Navigation item enhanced styling */
    .nav-item {
        @apply relative overflow-hidden transition-all duration-300 ease-out border border-transparent;
    }

    .nav-item::before {
        @apply absolute top-0 w-full h-full transition-all duration-500 ease-in-out opacity-0 bg-gradient-to-r from-transparent via-brand-500/10 to-transparent;
        content: "";
        left: -100%;
    }

    .nav-item:hover::before {
        @apply opacity-100;
        left: 100%;
    }

    .nav-item:hover {
        @apply transform translate-x-1 shadow-lg border-brand-500/10;
        background: linear-gradient(
            135deg,
            rgba(82, 139, 137, 0.05),
            rgba(82, 139, 137, 0.02)
        );
    }

    /* Active state styling - preserving original brand colors */
    .nav-item.active {
        @apply transform translate-x-0.5 bg-gradient-to-br from-brand-500 to-brand-600 shadow-lg;
    }

    /* Tooltip styling */
    .nav-tooltip {
        @apply transition-all duration-300 ease-out transform -translate-x-2;
    }

    /* Logout button special styling */
    .logout-btn {
        @apply transition-all duration-300 ease-out hover:text-red-700;
    }

    .logout-btn::before {
        @apply absolute top-0 w-full h-full transition-all duration-500 ease-in-out opacity-0 bg-gradient-to-r from-transparent via-red-500/10 to-transparent;
        content: "";
        left: -100%;
    }

    .logout-btn:hover::before {
        @apply opacity-100;
        left: 100%;
    }

    .logout-btn:hover {
        @apply transform -translate-y-0.5 text-red-700 shadow-lg;
    }

    .logout-btn:hover .nav-icon {
        @apply text-red-700;
    }

    /* Improved touch targets for collapsed state */
    .sidebar-collapsed .nav-item {
        @apply rounded-md w-10 h-10 flex items-center justify-center shadow-sm transition-all duration-300 ease-in-out;
    }

    /* Logout button icon sizing for collapsed state */
    .sidebar-collapsed .logout-btn svg {
        @apply w-6 h-6;
    }

    /* Hamburger button styles */
    .hamburger-btn {
        @apply fixed top-7 left-3 z-50 bg-white border border-gray-200 rounded-md w-10 h-10 flex items-center justify-center shadow-sm transition-all duration-300 ease-in-out hover:bg-gray-50 hover:scale-105 active:scale-95;
    }

    .hamburger-btn svg {
        @apply w-4 h-4 text-gray-700 transition-all duration-300 ease-in-out;
    }

    /* Hide hamburger button when sidebar is open/expanded */
    @media (max-width: 1023px) {
        .sidebar-open ~ .hamburger-btn {
            @apply opacity-0 invisible transform -translate-x-full;
        }
    }

    @media (min-width: 1024px) {
        .sidebar-expanded ~ .hamburger-btn {
            @apply opacity-0 invisible transform -translate-x-full;
        }
    }

    /* Hamburger icon animation */
    .hamburger-icon {
        @apply w-6 h-6 transition-all duration-300 ease-in-out;
    }

    /* Smooth icon transition */
    .hamburger-icon path {
        @apply transition-all duration-300 ease-in-out;
    }

    /* Icon rotation effect */
    .hamburger-btn:hover .hamburger-icon {
        @apply transform scale-110;
    }

    .hamburger-btn:active .hamburger-icon {
        @apply transform scale-95;
    }

    /* Mobile overlay */
    .sidebar-overlay {
        @apply fixed inset-0 z-40 bg-black/50 opacity-0 invisible transition-all duration-300 ease-in-out;
    }

    .sidebar-overlay.active {
        @apply opacity-100 visible;
    }

    /* Sidebar positioning adjustments */
    @media (max-width: 1023px) {
        #sidebar {
            @apply transform -translate-x-full;
        }

        #sidebar.sidebar-open {
            @apply transform translate-x-0;
        }
    }

    @media (min-width: 1024px) {
        #sidebar {
            @apply transform translate-x-0 fixed;
        }
    }

    /* Additional responsive tweaks */
    .sidebar-content {
        @apply flex flex-col h-full;
    }

    .sidebar-nav {
        @apply flex-1 overflow-y-auto;
    }

    .sidebar-menu {
        @apply space-y-1 p-4;
    }

    .sidebar-user {
        @apply border-t border-gray-200 p-4 bg-gray-50;
    }

    /* Brand logo and header */
    .sidebar-header {
        @apply p-4 border-b border-gray-200 bg-gradient-to-r from-brand-500 to-brand-600;
    }

    .sidebar-logo {
        @apply flex items-center text-white font-bold text-lg;
    }

    .sidebar-logo.collapsed {
        @apply justify-center;
    }

    .sidebar-logo-text {
        @apply ml-3 transition-opacity duration-200;
    }

    .collapsed .sidebar-logo-text {
        @apply lg:opacity-0 lg:hidden;
    }

    /* User profile section */
    .sidebar-user-avatar {
        @apply w-8 h-8 bg-brand-500 rounded-full flex items-center justify-center text-white text-sm font-medium;
    }

    .sidebar-user-info {
        @apply ml-3 flex-1;
    }

    .sidebar-user-name {
        @apply text-sm font-medium text-gray-900;
    }

    .sidebar-user-role {
        @apply text-xs text-gray-500;
    }

    .collapsed .sidebar-user-info {
        @apply lg:hidden;
    }

    /* Scrollbar styling */
    .sidebar-nav::-webkit-scrollbar {
        @apply w-1;
    }

    .sidebar-nav::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    .sidebar-nav::-webkit-scrollbar-thumb {
        @apply bg-gray-300 rounded-full;
    }

    .sidebar-nav::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-400;
    }
}
